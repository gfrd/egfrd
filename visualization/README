
Use of visualisation Toolkit
==============================

Introduction
==============================

The Visualisation Toolkit (VTK) can be used to create a "3d movie" of your
simulations. To visualize the simulation, the program ParaView is used, which
reads data generated by the VTK.

To get things running, the following steps can be followed:

1. Import VTK libraries to Paraview
==============================

Import VTK additional library files to ParaView. This has to
be done only once. Copy the plugins (egfrdDir)/paraview/tensorGlyph.xml 
and (egfrdDir)/paraview/tensorGto /home/(username)/.config/ParaView/
ParaView(VERSION)/Plugins/ replacing (VERSION) by the version of 
your Paraview installation (for example 3.6). These 2 files are needed 
to show cylinders of different sizes and different orientations correctly. 
Go to Tools >Manage Plugins/Extensions and check that the plugins are loaded, 
or load them manually.

2. Calling the logger in your simulation
==============================

The following code can be used to implement the VTK logger in your simulation:

    # Set directory
    vtk_output_directory = 'VTK_out'
        # If there are already VTK files in the directory, this gives problems

    # Import the logger        
    from visualization import vtklogger
    # Create logging object
    l = vtklogger.VTKLogger(s, vtk_output_directory, extra_particle_step=True) 

    # log a step
    l.log()

    # stop logger, writing away essential data
    l.stop()

For additional information see VTKlogger.py.

3. Use the run_pipeline.py script
==============================

If your simulation has generated VTK output data (which by the way really slows
the simulation down), this data can be imported in Paraview using the 
run_pipeline.py script. Instructions on how to use this script are in the script
itself.














